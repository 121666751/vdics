#! /bin/sh

# ****************************************************************
# function errlog() to record failed projects
# ****************************************************************
errlog()
{
if ! [ $2 = "0" ]
then 
echo "Building $1 FAILED!" >> ../failed_proj.log
fi
} 


# ****************************************************************
# function build() to build every projects
# ****************************************************************
build()
{
cd $1
make 
errlog $1 $?
cd ..
}


# ****************************************************************
# shell start here
# ****************************************************************


# ---------------------
# clear log
# ---------------------
> failed_proj.log


# ---------------------
# build each projects
# ---------------------

build TCHDP3000C

build distControl

build Hantlec